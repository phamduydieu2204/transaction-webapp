<!-- Tab Nh·∫≠p chi ph√≠ -->
<div id="tab-chi-phi" class="tab-content">
  <!-- Quick Search Container -->
  <div class="expense-quick-search-container">
    <div class="quick-search-wrapper">
      <div class="quick-search-input-group">
        <i class="fas fa-search search-icon"></i>
        <input 
          type="text" 
          id="expenseQuickSearch" 
          class="quick-search-input"
          placeholder="T√¨m nhanh chi ph√≠... (m√£ chi ph√≠, nh√† cung c·∫•p, ghi ch√∫...)"
          autocomplete="off"
        >
        <div id="expenseSearchDropdown" class="search-dropdown" style="display: none;">
          <!-- Search results will be displayed here -->
        </div>
      </div>
    </div>
  </div>
  
  <!-- Form Container -->
  <div class="form-container">
    <form id="expenseForm" onreset="handleResetExpense()">
      <!-- Hidden fields -->
      <input type="hidden" id="expenseId">
      <input type="hidden" id="expenseRecorder">

      <!-- Expense Form Grid -->
      <div class="transaction-form-grid">
        
        <!-- ‚úÖ D√≤ng 1: Ng√†y chi, Lo·∫°i kho·∫£n chi, Danh m·ª•c chung, S·∫£n ph·∫©m/D·ªãch v·ª•, G√≥i d·ªãch v·ª• -->
        <div class="form-field">
          <label class="required">Ng√†y chi <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="expenseDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('expenseDate')"></i>
          </div>
          <div class="error-message" id="expenseDate-error">Vui l√≤ng nh·∫≠p ng√†y chi</div>
        </div>
        
        <div class="form-field">
          <label class="required">Lo·∫°i kho·∫£n chi <span class="required-asterisk">*</span></label>
          <select id="expenseCategory" onchange="handleCategoryChange()" required>
            <option value="">-- Ch·ªçn lo·∫°i --</option>
          </select>
          <div class="error-message" id="expenseCategory-error">Vui l√≤ng ch·ªçn lo·∫°i kho·∫£n chi</div>
        </div>
        
        <div class="form-field">
          <label>Danh m·ª•c chung</label>
          <select id="expenseSubCategory" onchange="handleSubCategoryChange()">
            <option value="">-- Ch·ªçn danh m·ª•c --</option>
          </select>
          <div class="error-message" id="expenseSubCategory-error">Vui l√≤ng ch·ªçn danh m·ª•c</div>
        </div>
        
        <div class="form-field">
          <label>S·∫£n ph·∫©m/D·ªãch v·ª•</label>
          <select id="expenseProduct" onchange="handleProductChange()">
            <option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>
          </select>
          <div class="error-message" id="expenseProduct-error">Vui l√≤ng ch·ªçn s·∫£n ph·∫©m</div>
        </div>
        
        <div class="form-field">
          <label>G√≥i d·ªãch v·ª•</label>
          <select id="expensePackage">
            <option value="">-- Ch·ªçn g√≥i --</option>
          </select>
          <div class="error-message" id="expensePackage-error">Vui l√≤ng ch·ªçn g√≥i d·ªãch v·ª•</div>
        </div>

        <!-- ‚úÖ D√≤ng 2: S·ªë ti·ªÅn, Ti·ªÅn t·ªá, Ng√¢n h√†ng/V√≠, Th√¥ng tin th·∫ª/T√†i kho·∫£n, Ghi ch√∫ (spans 2 rows) -->
        <div class="form-field">
          <label class="required">S·ªë ti·ªÅn <span class="required-asterisk">*</span></label>
          <input type="number" id="expenseAmount" placeholder="0" step="1000" required>
          <div class="error-message" id="expenseAmount-error">Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn</div>
        </div>
        
        <div class="form-field">
          <label>Ti·ªÅn t·ªá</label>
          <select id="expenseCurrency">
            <option value="">-- Ch·ªçn lo·∫°i ti·ªÅn t·ªá --</option>
            <option value="VND" selected>VND</option>
            <option value="USD">USD</option>
            <option value="NGN">NGN</option>
          </select>
          <div class="error-message" id="expenseCurrency-error">Vui l√≤ng ch·ªçn ti·ªÅn t·ªá</div>
        </div>
        
        <div class="form-field">
          <label>Ng√¢n h√†ng/V√≠</label>
          <select id="expenseBank" onchange="handleBankChange()">
            <option value="">-- Ch·ªçn ng√¢n h√†ng/v√≠ --</option>
          </select>
          <div class="error-message" id="expenseBank-error">Vui l√≤ng ch·ªçn ng√¢n h√†ng</div>
        </div>
        
        <div class="form-field">
          <label>Th√¥ng tin th·∫ª/T√†i kho·∫£n</label>
          <select id="expenseCard">
            <option value="">-- Ch·ªçn t√†i kho·∫£n --</option>
          </select>
          <div class="error-message" id="expenseCard-error">Vui l√≤ng ch·ªçn t√†i kho·∫£n</div>
        </div>
        
        <!-- Ghi ch√∫ - 1 c·ªôt, k√©o d√†i t·ª´ d√≤ng 2 ƒë·∫øn d√≤ng 3 -->
        <div class="form-field note-field-tall">
          <label>Ghi ch√∫</label>
          <textarea id="expenseNote" placeholder="Nh·∫≠p ghi ch√∫ chi ti·∫øt v·ªÅ kho·∫£n chi...

üí° M·∫πo: N·∫øu ch·ªâ nh·∫≠p v√†o tr∆∞·ªùng n√†y v√† click 'T√¨m ki·∫øm', h·ªá th·ªëng s·∫Ω t√¨m trong T·∫§T C·∫¢ c√°c tr∆∞·ªùng!"></textarea>
          <div class="error-message" id="expenseNote-error">Vui l√≤ng nh·∫≠p ghi ch√∫</div>
        </div>

        <!-- ‚úÖ D√≤ng 3: Ph∆∞∆°ng th·ª©c chi, Ng√†y t√°i t·ª•c, Tr·∫°ng th√°i, Ng∆∞·ªùi nh·∫≠n/Nh√† cung c·∫•p -->
        <div class="form-field">
          <label>Ph∆∞∆°ng th·ª©c chi</label>
          <select id="expenseRecurring" onchange="handleRecurringChange()">
            <option value="">-- Ch·ªçn ph∆∞∆°ng th·ª©c chi --</option>
            <option value="Chi m·ªôt l·∫ßn" selected>Chi m·ªôt l·∫ßn</option>
            <option value="H√†ng th√°ng">ƒê·ªãnh k·ª≥ h√†ng th√°ng</option>
            <option value="H√†ng qu√Ω">ƒê·ªãnh k·ª≥ h√†ng qu√Ω</option>
            <option value="H√†ng nƒÉm">ƒê·ªãnh k·ª≥ h√†ng nƒÉm</option>
          </select>
          <div class="error-message" id="expenseRecurring-error">Vui l√≤ng ch·ªçn ph∆∞∆°ng th·ª©c</div>
        </div>
        
        <div class="form-field">
          <label>Ng√†y t√°i t·ª•c</label>
          <div class="date-input-container">
            <input type="text" id="expenseRenewDate" placeholder="yyyy/mm/dd">
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('expenseRenewDate')"></i>
          </div>
          <div class="error-message" id="expenseRenewDate-error">Vui l√≤ng nh·∫≠p ng√†y t√°i t·ª•c</div>
        </div>
        
        <div class="form-field">
          <label>Tr·∫°ng th√°i</label>
          <select id="expenseStatus">
            <option value="">-- Ch·ªçn tr·∫°ng th√°i --</option>
            <option value="ƒê√£ thanh to√°n" selected>ƒê√£ thanh to√°n</option>
            <option value="Ch∆∞a thanh to√°n">Ch∆∞a thanh to√°n</option>
            <option value="ƒê√£ h·ªßy">ƒê√£ h·ªßy</option>
          </select>
          <div class="error-message" id="expenseStatus-error">Vui l√≤ng ch·ªçn tr·∫°ng th√°i</div>
        </div>
        
        <div class="form-field">
          <label>Ng∆∞·ªùi nh·∫≠n/Nh√† cung c·∫•p</label>
          <input type="text" id="expenseSupplier" placeholder="Nh·∫≠p t√™n nh√† cung c·∫•p">
          <div class="error-message" id="expenseSupplier-error">Vui l√≤ng nh·∫≠p nh√† cung c·∫•p</div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="button-row">
        <button type="button" onclick="handleAddExpense()">Th√™m</button>
        <button type="button" onclick="handleUpdateExpense()">C·∫≠p nh·∫≠t</button>
        <button type="button" onclick="handleSearchExpense()">T√¨m ki·∫øm</button>
        <button type="reset">L√†m m·ªõi</button>
      </div>
    </form>
  </div>
  
  <!-- Table Container -->
  <div class="expense-table-container">
    <div id="expenseSection">
      <!-- Expense List Table -->
      <table id="expenseListTable">
        <thead>
          <tr>
            <!-- Table headers will be dynamically added -->
          </tr>
        </thead>
        <tbody>
          <!-- Table rows will be dynamically added -->
        </tbody>
      </table>

      <div class="pagination" id="expensePagination"></div>
    </div>
  </div>
</div>