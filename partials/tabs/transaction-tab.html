<!-- Tab Nhập giao dịch -->
<div id="tab-giao-dich" class="tab-content">
  <!-- Form Container -->
  <div class="form-container">
    <form id="transactionForm" onreset="handleReset()">
      <!-- Transaction Form Grid -->
      <div class="transaction-form-grid">
        
        <!-- ✅ Dòng 1: Ngày giao dịch, Email khách hàng, Tên khách hàng, Liên hệ, Doanh thu (VND) - all required -->
        <div class="form-field">
          <label class="required">Ngày giao dịch <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="transactionDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('transactionDate')"></i>
          </div>
          <div class="error-message" id="transactionDate-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Email khách hàng <span class="required-asterisk">*</span></label>
          <input type="email" id="customerEmail" placeholder="email@example.com" required>
          <div class="error-message" id="customerEmail-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Tên khách hàng <span class="required-asterisk">*</span></label>
          <div class="search-icon-container">
            <input type="text" id="customerName" placeholder="Nhập tên khách hàng" required>
            <i class="fas fa-search search-icon" onclick="updateCustomerInfo()"></i>
          </div>
          <div class="error-message" id="customerName-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Liên hệ <span class="required-asterisk">*</span></label>
          <input type="text" id="customerPhone" placeholder="Số điện thoại" required>
          <div class="error-message" id="customerPhone-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Doanh thu (VND) <span class="required-asterisk">*</span></label>
          <input type="number" id="revenue" placeholder="0" step="1000" required>
          <div class="error-message" id="revenue-error"></div>
        </div>

        <!-- ✅ Dòng 2: Loại giao dịch, Tên phần mềm, Gói phần mềm, Tên tài khoản, Ghi chú (spans 2 rows) -->
        <div class="form-field">
          <label class="required">Loại giao dịch <span class="required-asterisk">*</span></label>
          <select id="transactionType" required>
            <option value="">-- Chọn loại --</option>
            <option value="Bán hàng">Bán hàng</option>
            <option value="Hoàn Tiền">Hoàn Tiền</option>
            <option value="Dùng thử">Dùng thử</option>
            <option value="Nhập hàng">Nhập hàng</option>
          </select>
          <div class="error-message" id="transactionType-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Tên phần mềm <span class="required-asterisk">*</span></label>
          <select id="softwareName" required>
            <option value="">-- Chọn phần mềm --</option>
          </select>
          <div class="error-message" id="softwareName-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Gói phần mềm <span class="required-asterisk">*</span></label>
          <select id="softwarePackage" required>
            <option value="">-- Chọn gói --</option>
          </select>
          <div class="error-message" id="softwarePackage-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Tên tài khoản <span class="required-asterisk">*</span></label>
          <select id="accountName" required>
            <option value="">-- Chọn tài khoản --</option>
          </select>
          <div class="error-message" id="accountName-error"></div>
        </div>
        
        <!-- Ghi chú - 1 cột, kéo dài từ dòng 2 đến dòng 3 -->
        <div class="form-field note-field-tall">
          <label>Ghi chú</label>
          <textarea id="note" placeholder="Nhập ghi chú chi tiết về giao dịch..."></textarea>
          <div class="error-message" id="note-error"></div>
        </div>

        <!-- ✅ Dòng 3: Số tháng đăng ký, Ngày bắt đầu, Ngày kết thúc, Số thiết bị -->
        <div class="form-field">
          <label class="required">Số tháng đăng ký <span class="required-asterisk">*</span></label>
          <input type="number" id="duration" placeholder="12" min="1" max="60" required>
          <div class="error-message" id="duration-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Ngày bắt đầu <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="startDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('startDate')"></i>
          </div>
          <div class="error-message" id="startDate-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Ngày kết thúc <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="endDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('endDate')"></i>
          </div>
          <div class="error-message" id="endDate-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Số thiết bị <span class="required-asterisk">*</span></label>
          <input type="number" id="deviceCount" placeholder="1" min="1" required>
          <div class="error-message" id="deviceCount-error"></div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="button-row">
        <button type="button" onclick="handleAdd()">Thêm</button>
        <button type="button" onclick="handleUpdate()">Cập nhật</button>
        <button type="button" onclick="handleSearch()">Tìm kiếm</button>
        <button type="reset">Làm mới</button>
      </div>
    </form>
  </div>
  
  <!-- Table Container -->
  <div class="table-container">
    <div id="transactionSection">
      <table id="transactionTable">
        <thead>
          <tr>
            <th>Mã giao dịch</th>
            <th>Ngày giao dịch</th>
            <th>Loại giao dịch</th>
            <th>Tên khách hàng</th>
            <th>Email</th>
            <th>Chu kỳ sử dụng</th>
            <th>Số thiết bị</th>
            <th>Thông tin phần mềm</th>
            <th>Doanh thu</th>
            <th>Ghi chú</th>
            <th>Thông tin khác</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <div class="pagination" id="pagination"></div>
    </div>
  </div>
</div>