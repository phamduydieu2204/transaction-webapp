<!-- Tab Nh·∫≠p giao d·ªãch -->
<div id="tab-giao-dich" class="tab-content">
  <!-- Form Container -->
  <div class="form-container">
    <form id="transactionForm" onreset="handleReset()">
      <!-- Transaction Form Grid -->
      <div class="transaction-form-grid">
        
        <!-- ‚úÖ D√≤ng 1: Ng√†y giao d·ªãch, Email kh√°ch h√†ng, T√™n kh√°ch h√†ng, Li√™n h·ªá, Doanh thu (VND) - all required -->
        <div class="form-field">
          <label class="required">Ng√†y giao d·ªãch <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="transactionDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('transactionDate')"></i>
          </div>
          <div class="error-message" id="transactionDate-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Email kh√°ch h√†ng <span class="required-asterisk">*</span></label>
          <input type="email" id="customerEmail" placeholder="email@example.com" required>
          <div class="error-message" id="customerEmail-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">T√™n kh√°ch h√†ng <span class="required-asterisk">*</span></label>
          <div class="search-icon-container">
            <input type="text" id="customerName" placeholder="Nh·∫≠p t√™n kh√°ch h√†ng" required>
            <i class="fas fa-search search-icon" onclick="updateCustomerInfo()"></i>
          </div>
          <div class="error-message" id="customerName-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Li√™n h·ªá <span class="required-asterisk">*</span></label>
          <input type="text" id="customerPhone" placeholder="S·ªë ƒëi·ªán tho·∫°i" required>
          <div class="error-message" id="customerPhone-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Doanh thu (VND) <span class="required-asterisk">*</span></label>
          <input type="number" id="revenue" placeholder="0" step="1000" required>
          <div class="error-message" id="revenue-error"></div>
        </div>

        <!-- ‚úÖ D√≤ng 2: Lo·∫°i giao d·ªãch, T√™n ph·∫ßn m·ªÅm, G√≥i ph·∫ßn m·ªÅm, T√™n t√†i kho·∫£n, Ghi ch√∫ (spans 2 rows) -->
        <div class="form-field">
          <label class="required">Lo·∫°i giao d·ªãch <span class="required-asterisk">*</span></label>
          <select id="transactionType" required>
            <option value="">-- Ch·ªçn lo·∫°i --</option>
            <option value="Ch∆∞a thanh to√°n" title="B√™n b√°n ƒë√£ giao h√†ng nh∆∞ng kh√°ch h√†ng ch∆∞a th·ª±c hi·ªán chuy·ªÉn kho·∫£n">Ch∆∞a thanh to√°n</option>
            <option value="ƒê√£ thanh to√°n" title="Kh√°ch h√†ng ƒë√£ th·ª±c hi·ªán thanh to√°n nh∆∞ng b√™n b√°n ch∆∞a giao h√†ng">ƒê√£ thanh to√°n</option>
            <option value="ƒê√£ ho√†n t·∫•t" title="Giao d·ªãch ƒë√£ ƒë∆∞·ª£c thanh to√°n v√† ƒë√£ giao h√†ng cho kh√°ch">ƒê√£ ho√†n t·∫•t</option>
          </select>
          <div class="error-message" id="transactionType-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">T√™n ph·∫ßn m·ªÅm <span class="required-asterisk">*</span></label>
          <select id="softwareName" required>
            <option value="">-- Ch·ªçn ph·∫ßn m·ªÅm --</option>
          </select>
          <div class="error-message" id="softwareName-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">G√≥i ph·∫ßn m·ªÅm <span class="required-asterisk">*</span></label>
          <select id="softwarePackage" required>
            <option value="">-- Ch·ªçn g√≥i --</option>
          </select>
          <div class="error-message" id="softwarePackage-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">T√™n t√†i kho·∫£n <span class="required-asterisk">*</span></label>
          <select id="accountName" required>
            <option value="">-- Ch·ªçn t√†i kho·∫£n --</option>
          </select>
          <div class="error-message" id="accountName-error"></div>
        </div>
        
        <!-- Ghi ch√∫ - 1 c·ªôt, k√©o d√†i t·ª´ d√≤ng 2 ƒë·∫øn d√≤ng 3 -->
        <div class="form-field note-field-tall">
          <label>Ghi ch√∫</label>
          <textarea id="note" placeholder="Nh·∫≠p ghi ch√∫ chi ti·∫øt v·ªÅ giao d·ªãch...

üí° M·∫πo: N·∫øu ch·ªâ nh·∫≠p v√†o tr∆∞·ªùng n√†y v√† click 'T√¨m ki·∫øm', h·ªá th·ªëng s·∫Ω t√¨m trong T·∫§T C·∫¢ c√°c tr∆∞·ªùng!"></textarea>
          <div class="error-message" id="note-error"></div>
        </div>

        <!-- ‚úÖ D√≤ng 3: S·ªë th√°ng ƒëƒÉng k√Ω, Ng√†y b·∫Øt ƒë·∫ßu, Ng√†y k·∫øt th√∫c, S·ªë thi·∫øt b·ªã -->
        <div class="form-field">
          <label class="required">S·ªë th√°ng ƒëƒÉng k√Ω <span class="required-asterisk">*</span></label>
          <input type="number" id="duration" placeholder="12" min="1" max="60" required>
          <div class="error-message" id="duration-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Ng√†y b·∫Øt ƒë·∫ßu <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="startDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('startDate')"></i>
          </div>
          <div class="error-message" id="startDate-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">Ng√†y k·∫øt th√∫c <span class="required-asterisk">*</span></label>
          <div class="date-input-container">
            <input type="text" id="endDate" placeholder="yyyy/mm/dd" required>
            <i class="fas fa-calendar-alt calendar-icon" onclick="openCalendar('endDate')"></i>
          </div>
          <div class="error-message" id="endDate-error"></div>
        </div>
        
        <div class="form-field">
          <label class="required">S·ªë thi·∫øt b·ªã <span class="required-asterisk">*</span></label>
          <input type="number" id="deviceCount" placeholder="1" min="1" required>
          <div class="error-message" id="deviceCount-error"></div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="button-row">
        <button type="button" onclick="handleAdd()">Th√™m</button>
        <button type="button" onclick="handleUpdate()">C·∫≠p nh·∫≠t</button>
        <button type="button" onclick="handleSearch()">T√¨m ki·∫øm</button>
        <button type="reset">L√†m m·ªõi</button>
      </div>
    </form>
  </div>
  
  <!-- Table Container -->
  <div class="table-container">
    <div id="transactionSection">
      <table id="transactionTable">
        <thead>
          <tr>
            <th>M√£ giao d·ªãch</th>
            <th>Ng√†y giao d·ªãch</th>
            <th>Lo·∫°i giao d·ªãch</th>
            <th>Th√¥ng tin kh√°ch h√†ng</th>
            <th>Chu k·ª≥ s·ª≠ d·ª•ng</th>
            <th>S·ªë thi·∫øt b·ªã</th>
            <th>Th√¥ng tin ph·∫ßn m·ªÅm</th>
            <th>Doanh thu</th>
            <th>Ghi ch√∫</th>
            <th>Th√¥ng tin kh√°c</th>
            <th>H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <div class="pagination" id="pagination"></div>
    </div>
  </div>
</div>