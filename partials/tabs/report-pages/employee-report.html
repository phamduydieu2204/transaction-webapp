<!-- Employee Report Template -->
<div class="employee-report-container">
    <!-- Header Section -->
    <div class="report-header">
        <div class="header-content">
            <h2 class="report-title">üëî B√°o c√°o nh√¢n vi√™n</h2>
            <p class="report-subtitle">Qu·∫£n l√Ω hi·ªáu su·∫•t v√† ph√¢n t√≠ch doanh s·ªë nh√¢n vi√™n</p>
        </div>
        <div class="header-actions">
            <button id="refreshEmployeeData" class="action-btn primary">
                <i class="icon">üîÑ</i>
                <span>L√†m m·ªõi</span>
            </button>
            <button id="exportEmployeeReport" class="action-btn secondary">
                <i class="icon">üìä</i>
                <span>Xu·∫•t b√°o c√°o</span>
            </button>
        </div>
    </div>

    <!-- Employee KPI Dashboard -->
    <div class="employee-kpi-dashboard">
        <!-- Employee KPI Cards will be rendered here -->
    </div>

    <!-- Employee Performance Overview -->
    <div class="employee-overview-section">
        <h3 class="section-title">üìà T·ªïng quan hi·ªáu su·∫•t</h3>
        <div class="overview-cards">
            <!-- Overview cards will be rendered here -->
        </div>
    </div>

    <!-- Employee Analytics Charts -->
    <div class="employee-analytics-section">
        <div class="analytics-grid">
            <div class="analytics-card">
                <div class="card-header">
                    <h4>üí∞ Doanh thu theo nh√¢n vi√™n</h4>
                    <div class="chart-controls">
                        <select id="revenueChartPeriod" class="chart-period-select">
                            <option value="month">Theo th√°ng</option>
                            <option value="quarter">Theo qu√Ω</option>
                            <option value="year">Theo nƒÉm</option>
                        </select>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="employeeRevenueChart"></canvas>
                </div>
            </div>

            <div class="analytics-card">
                <div class="card-header">
                    <h4>üìä T·ª∑ l·ªá hoa h·ªìng</h4>
                    <div class="chart-controls">
                        <select id="commissionChartPeriod" class="chart-period-select">
                            <option value="month">Theo th√°ng</option>
                            <option value="quarter">Theo qu√Ω</option>
                            <option value="year">Theo nƒÉm</option>
                        </select>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="employeeCommissionChart"></canvas>
                </div>
            </div>

            <div class="analytics-card">
                <div class="card-header">
                    <h4>üìà Xu h∆∞·ªõng hi·ªáu su·∫•t</h4>
                </div>
                <div class="chart-container">
                    <canvas id="performanceTrendChart"></canvas>
                </div>
            </div>

            <div class="analytics-card">
                <div class="card-header">
                    <h4>üéØ Ph√¢n b·ªï KPI</h4>
                </div>
                <div class="chart-container">
                    <canvas id="kpiDistributionChart"></canvas>
                </div>
            </div>

            <div class="analytics-card">
                <div class="card-header">
                    <h4>üè¢ So s√°nh ph√≤ng ban</h4>
                </div>
                <div class="chart-container">
                    <canvas id="departmentComparisonChart"></canvas>
                </div>
            </div>

            <div class="analytics-card">
                <div class="card-header">
                    <h4>üí∞ Doanh thu vs Hoa h·ªìng</h4>
                </div>
                <div class="chart-container">
                    <canvas id="commissionRevenueChart"></canvas>
                </div>
            </div>

            <div class="analytics-card">
                <div class="card-header">
                    <h4>üìä Ph√¢n b·ªï hi·ªáu su·∫•t</h4>
                </div>
                <div class="chart-container">
                    <canvas id="performanceDistributionChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Employee Performance Table -->
    <div class="employee-performance-section">
        <div class="section-header">
            <h3 class="section-title">üìã B·∫£ng hi·ªáu su·∫•t nh√¢n vi√™n</h3>
            <div class="table-controls">
                <div class="search-filter-group">
                    <input type="text" id="employeeSearchInput" placeholder="T√¨m ki·∫øm nh√¢n vi√™n..." class="search-input">
                    <select id="performanceFilter" class="filter-select">
                        <option value="all">T·∫•t c·∫£ hi·ªáu su·∫•t</option>
                        <option value="excellent">Xu·∫•t s·∫Øc (>120%)</option>
                        <option value="good">T·ªët (100-120%)</option>
                        <option value="average">Trung b√¨nh (80-100%)</option>
                        <option value="below">D∆∞·ªõi m·ª©c (<80%)</option>
                    </select>
                    <select id="departmentFilter" class="filter-select">
                        <option value="all">T·∫•t c·∫£ ph√≤ng ban</option>
                        <option value="sales">Kinh doanh</option>
                        <option value="support">H·ªó tr·ª£</option>
                        <option value="marketing">Marketing</option>
                        <option value="admin">Qu·∫£n tr·ªã</option>
                    </select>
                </div>
                <div class="action-group">
                    <button id="addEmployeeKPI" class="action-btn success">
                        <i class="icon">‚ûï</i>
                        <span>Th√™m KPI</span>
                    </button>
                    <button id="exportEmployeeData" class="action-btn secondary">
                        <i class="icon">üìÑ</i>
                        <span>Xu·∫•t Excel</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="table-container">
            <table class="employee-performance-table">
                <thead>
                    <tr>
                        <th class="sortable" data-sort="tenNhanVien">Nh√¢n vi√™n</th>
                        <th class="sortable" data-sort="maNhanVien">M√£ NV</th>
                        <th class="sortable" data-sort="totalRevenue">Doanh thu</th>
                        <th class="sortable" data-sort="totalCommission">Hoa h·ªìng</th>
                        <th class="sortable" data-sort="transactionCount">S·ªë GD</th>
                        <th class="sortable" data-sort="avgTransactionValue">TB/GD</th>
                        <th class="sortable" data-sort="performanceRatio">Hi·ªáu su·∫•t</th>
                        <th class="sortable" data-sort="lastActivity">Ho·∫°t ƒë·ªông</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="employeePerformanceTableBody">
                    <!-- Table rows will be rendered here -->
                </tbody>
            </table>
        </div>

        <div class="pagination-container">
            <!-- Pagination will be rendered here -->
        </div>
    </div>

    <!-- Employee Details Analysis -->
    <div class="employee-details-section">
        <div class="details-grid">
            <!-- Top Performers -->
            <div class="details-card">
                <div class="card-header">
                    <h4>üèÜ Top performers</h4>
                    <span class="card-subtitle">Nh√¢n vi√™n xu·∫•t s·∫Øc nh·∫•t</span>
                </div>
                <div class="details-content">
                    <div id="topPerformersContent">
                        <!-- Top performers content will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Department Performance -->
            <div class="details-card">
                <div class="card-header">
                    <h4>üè¢ Hi·ªáu su·∫•t ph√≤ng ban</h4>
                    <span class="card-subtitle">So s√°nh gi·ªØa c√°c ph√≤ng ban</span>
                </div>
                <div class="details-content">
                    <div id="departmentPerformanceContent">
                        <!-- Department performance content will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Commission Analysis -->
            <div class="details-card">
                <div class="card-header">
                    <h4>üíµ Ph√¢n t√≠ch hoa h·ªìng</h4>
                    <span class="card-subtitle">T·ªïng h·ª£p hoa h·ªìng v√† xu h∆∞·ªõng</span>
                </div>
                <div class="details-content">
                    <div id="commissionAnalysisContent">
                        <!-- Commission analysis content will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Activity Tracking -->
            <div class="details-card">
                <div class="card-header">
                    <h4>‚è∞ Theo d√µi ho·∫°t ƒë·ªông</h4>
                    <span class="card-subtitle">Ho·∫°t ƒë·ªông v√† t·∫ßn su·∫•t l√†m vi·ªác</span>
                </div>
                <div class="details-content">
                    <div id="activityTrackingContent">
                        <!-- Activity tracking content will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Employee Goals & KPIs -->
    <div class="employee-goals-section">
        <div class="section-header">
            <h3 class="section-title">üéØ M·ª•c ti√™u & KPIs</h3>
            <button id="setEmployeeGoals" class="action-btn primary">Thi·∫øt l·∫≠p m·ª•c ti√™u</button>
        </div>
        <div class="goals-container">
            <div id="employeeGoalsContent">
                <!-- Employee goals content will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Employee Management Tools -->
    <div class="employee-management-tools">
        <h3 class="panel-title">‚ö° C√¥ng c·ª• qu·∫£n l√Ω nh√¢n vi√™n</h3>
        <div class="management-tools-grid">
            <button class="management-tool-btn" id="performanceReview">
                <div class="tool-icon">üìã</div>
                <div class="tool-text">
                    <span class="tool-title">ƒê√°nh gi√° hi·ªáu su·∫•t</span>
                    <span class="tool-desc">T·∫°o b√°o c√°o ƒë√°nh gi√° chi ti·∫øt</span>
                </div>
            </button>

            <button class="management-tool-btn" id="commissionCalculator">
                <div class="tool-icon">üí∞</div>
                <div class="tool-text">
                    <span class="tool-title">T√≠nh hoa h·ªìng</span>
                    <span class="tool-desc">T√≠nh to√°n hoa h·ªìng t·ª± ƒë·ªông</span>
                </div>
            </button>

            <button class="management-tool-btn" id="goalSetting">
                <div class="tool-icon">üéØ</div>
                <div class="tool-text">
                    <span class="tool-title">Thi·∫øt l·∫≠p m·ª•c ti√™u</span>
                    <span class="tool-desc">ƒê·∫∑t KPI v√† m·ª•c ti√™u c√° nh√¢n</span>
                </div>
            </button>

            <button class="management-tool-btn" id="trainingPlan">
                <div class="tool-icon">üìö</div>
                <div class="tool-text">
                    <span class="tool-title">K·∫ø ho·∫°ch ƒë√†o t·∫°o</span>
                    <span class="tool-desc">L·∫≠p k·∫ø ho·∫°ch ph√°t tri·ªÉn</span>
                </div>
            </button>

            <button class="management-tool-btn" id="teamAnalytics">
                <div class="tool-icon">üë•</div>
                <div class="tool-text">
                    <span class="tool-title">Ph√¢n t√≠ch team</span>
                    <span class="tool-desc">B√°o c√°o hi·ªáu su·∫•t nh√≥m</span>
                </div>
            </button>

            <button class="management-tool-btn" id="incentiveProgram">
                <div class="tool-icon">üèÖ</div>
                <div class="tool-text">
                    <span class="tool-title">Ch∆∞∆°ng tr√¨nh th∆∞·ªüng</span>
                    <span class="tool-desc">Qu·∫£n l√Ω khuy·∫øn kh√≠ch</span>
                </div>
            </button>
        </div>
    </div>

    <!-- Employee Ranking Board -->
    <div class="employee-ranking-section">
        <div class="section-header">
            <h3 class="section-title">üèÜ B·∫£ng x·∫øp h·∫°ng</h3>
            <div class="ranking-controls">
                <select id="rankingPeriod" class="filter-select">
                    <option value="month">Th√°ng n√†y</option>
                    <option value="quarter">Qu√Ω n√†y</option>
                    <option value="year">NƒÉm n√†y</option>
                    <option value="all">T·∫•t c·∫£</option>
                </select>
                <select id="rankingMetric" class="filter-select">
                    <option value="revenue">Doanh thu</option>
                    <option value="commission">Hoa h·ªìng</option>
                    <option value="transactions">S·ªë giao d·ªãch</option>
                    <option value="performance">Hi·ªáu su·∫•t</option>
                </select>
            </div>
        </div>
        <div class="ranking-container">
            <div id="employeeRankingContent">
                <!-- Employee ranking content will be rendered here -->
            </div>
        </div>
    </div>
</div>

<!-- Employee Detail Modal -->
<div id="employeeDetailModal" class="employee-modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalTitle">Chi ti·∫øt nh√¢n vi√™n</h3>
            <button class="modal-close-btn" id="closeEmployeeModal">‚úï</button>
        </div>
        <div class="modal-body">
            <div id="employeeDetailContent">
                <!-- Employee details will be rendered here -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="action-btn secondary" id="editEmployee">Ch·ªânh s·ª≠a</button>
            <button class="action-btn primary" id="saveEmployee">L∆∞u thay ƒë·ªïi</button>
            <button class="action-btn ghost" id="cancelEmployeeModal">H·ªßy</button>
        </div>
    </div>
</div>

<!-- KPI Setting Modal -->
<div id="kpiSettingModal" class="employee-modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h3>üéØ Thi·∫øt l·∫≠p KPI & M·ª•c ti√™u</h3>
            <button class="modal-close-btn" id="closeKpiModal">‚úï</button>
        </div>
        <div class="modal-body">
            <div class="kpi-form">
                <div class="form-group">
                    <label for="employeeSelect">Ch·ªçn nh√¢n vi√™n:</label>
                    <select id="employeeSelect" class="form-control">
                        <option value="">-- Ch·ªçn nh√¢n vi√™n --</option>
                        <!-- Options will be populated dynamically -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="revenueTarget">M·ª•c ti√™u doanh thu (VNƒê):</label>
                    <input type="number" id="revenueTarget" class="form-control" placeholder="0">
                </div>
                
                <div class="form-group">
                    <label for="transactionTarget">M·ª•c ti√™u s·ªë giao d·ªãch:</label>
                    <input type="number" id="transactionTarget" class="form-control" placeholder="0">
                </div>
                
                <div class="form-group">
                    <label for="commissionRate">T·ª∑ l·ªá hoa h·ªìng (%):</label>
                    <input type="number" id="commissionRate" class="form-control" placeholder="0" step="0.1">
                </div>
                
                <div class="form-group">
                    <label for="targetPeriod">K·ª≥ h·∫°n:</label>
                    <select id="targetPeriod" class="form-control">
                        <option value="month">Th√°ng</option>
                        <option value="quarter">Qu√Ω</option>
                        <option value="year">NƒÉm</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="action-btn primary" id="saveKpiSettings">L∆∞u KPI</button>
            <button class="action-btn ghost" id="cancelKpiModal">H·ªßy</button>
        </div>
    </div>
</div>

<!-- Employee Alerts Section -->
<div class="employee-alerts-section">
    <div class="employee-alerts-header">
        <h3 class="employee-alerts-title">üö® C·∫£nh b√°o & Th√¥ng b√°o</h3>
        <span class="employee-alerts-count">3</span>
    </div>
    <div class="employee-alert-list">
        <!-- Alerts will be rendered here -->
    </div>
</div>

<!-- Load Chart.js if not already loaded -->
<script>
    if (typeof Chart === 'undefined') {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
        script.onload = function() {
            console.log('üìä Chart.js loaded for employee report');
        };
        document.head.appendChild(script);
    }
</script>